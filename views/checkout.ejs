<%- include('partials/header') %>

<div class="container my-5" style="max-width: 950px;">
  <h2 class="text-center mb-5 fw-bold" style="color:#7c3aed;">مرحله ثبت اطلاعات مشتری</h2>

  <form action="/checkout" method="POST" class="needs-validation" novalidate>
    <div class="row g-4">
      
      <!-- فرم اطلاعات کاربر -->
      <div class="col-12 col-lg-6 mx-auto">
        <div class="card shadow-sm border-0 " style="border-top:4px solid #a78bfa;">
          <div class="card-body dir-rtl">
            <h5 class="card-title mb-3 text-purple fw-bold">مشخصات گیرنده</h5>

            <div class="mb-3">
              <label class="form-label">نام</label>
              <input type="text" name="firstName" class="form-control" value="<%= user.firstName || '' %>" required>
            </div>

            <div class="mb-3">
              <label class="form-label">نام خانوادگی</label>
              <input type="text" name="lastName" class="form-control" value="<%= user.lastName || '' %>" required>
            </div>

            <div class="mb-3">
              <label class="form-label">تلفن</label>
              <input type="text" name="mobile" class="form-control" value="<%= user.mobile || '' %>" readonly>
            </div>

            <div class="mb-3">
              <label class="form-label">ایمیل</label>
              <input type="email" name="email" class="form-control" value="<%= user.email || '' %>">
            </div>

            <div class="mb-3">
              <label class="form-label">آدرس کامل</label>
              <textarea name="address" class="form-control" rows="3" required><%= user.address || '' %></textarea>
            </div>

            <div class="mb-3">
              <label class="form-label">کد پستی</label>
              <input type="text" name="postalCode" class="form-control" value="<%= user.postalCode || '' %>">
            </div>
          </div>
        </div>
      </div>

      <!-- دکمه ثبت -->
      <div class="row mt-3 g-2 justify-content-center">  
            <div class="col-12 col-md-3">
              <button type="submit" class="btn btn-purple w-100 py-2 fw-bold ">ادامه و تأیید سفارش</button>
            </div>
            <div class="col-12 col-md-3">
              <a href="/cart" class="btn btn-outline-purple w-100 fw-bold">بازگشت به سبد خرید</a>
            </div>
      </div>


    </div>
  </form>
</div>

<style>
  .text-purple { color:#7c3aed; }
  .btn-purple {
    background-color:#8b5cf6;
    border:none;
    color:white;
    transition: all 0.3s ease;
  }
  .btn-purple:hover {
    background-color:#6d28d9;
    transform: translateY(-2px);
  }
  .btn-outline-purple {
    color:#7c3aed;
    border:1px solid #7c3aed;
    transition: all 0.3s ease;
  }
  .btn-outline-purple:hover {
    background-color:#7c3aed;
    color:#fff;
  }
  .form-label {
    font-weight: 600;
    color: #5b21b6;
  }
  input.form-control, textarea.form-control {
    border-radius: 10px;
    border: 1px solid #dcd0ff;
    padding: 10px 14px;
    transition: border-color 0.2s ease;
  }
  input.form-control:focus, textarea.form-control:focus {
    border-color: #8b5cf6;
    box-shadow: 0 0 0 0.2rem rgba(139,92,246,0.15);
  }
</style>

<%- include('partials/footer') %>
