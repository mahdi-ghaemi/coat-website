<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ِDapper Coat</title>

  <link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/Vazirmatn-font-face.css" rel="stylesheet" type="text/css" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
  <link rel="stylesheet" href="/css/style.css">
  <!-- Bootstrap Icons -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
    rel="stylesheet">
  </head>

<body>


<!--================ Header =================-->

<header id="main-header" class="d-flex flex-wrap align-items-center justify-content-between py-2 px-3">

  <div class="logo">
    <a href="/"><img src="/image/logo2.png" width="110" alt="Logo"></a>
  </div>

  <!-- Toggle Button for Mobile -->
  <button class="mobile-toggle d-lg-none">
    <i class="bi bi-list"></i>
  </button>

  <ul class="nav menu d-none d-lg-flex">
    <li><a href="/" class="nav-link">خانه</a></li>
    <li><a href="/products" class="nav-link">محصولات</a></li>
    <li><a href="/contact" class="nav-link">ارتباط با ما</a></li>
  </ul>

  <div class="actions d-none d-lg-flex">
    <% if (user && user.role === 'admin') { %>
      <a href="/admin/dashboard" class="btn btn-outline-primary me-2">حساب ادمین</a>
    <% } else if (user && user.role === "user") { %>
      <a href="/account" class="btn btn-outline-primary me-2">حساب من</a>
    <% } else { %>
      <a href="/login" class="btn btn-outline-primary me-2">ورود</a>
    <% } %>

    <button class="btn btn-primary" onclick="window.location.href='/cart'">سبد خرید</button>
  </div>

</header>

<!-- منوی موبایل بازشونده -->
<div class="mobile-menu d-lg-none">
  <ul>
    <li><a href="/">خانه</a></li>
    <li><a href="/products">محصولات</a></li>
    <li><a href="/contact">ارتباط با ما</a></li>

    <hr>

    <% if (user && user.role === 'admin') { %>
      <a href="/admin/dashboard" class="btn btn-outline-primary w-100 mb-2">حساب ادمین</a>
    <% } else if (user && user.role === "user") { %>
      <a href="/account" class="btn btn-outline-primary w-100 mb-2">حساب من</a>
    <% } else { %>
      <a href="/login" class="btn btn-outline-primary w-100 mb-2">ورود</a>
    <% } %>

    <button class="btn btn-primary w-100" onclick="window.location.href='/cart'">سبد خرید</button>
  </ul>
</div>






<style>
/* هدر */
#main-header {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 1030;
  background: linear-gradient(90deg, #d8b4fe, #f3e8ff); /*گرادینت بنفش روشن */
  padding: 10px 20px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  transition: transform 0.5s ease, opacity 0.5s ease;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

/* منو */
#main-header .nav {
  display: flex;
  gap: 20px;
  list-style: none;
  margin: 0;
  padding: 0;
}

#main-header .nav-link {
  text-decoration: none;
  color: #4b0082;
  font-weight: 500;
  transition: color 0.3s ease;
}

#main-header .nav-link:hover {
  color: #8a2be2;
}

/* دکمه‌ها */
#main-header .btn-primary {
  background: linear-gradient(135deg, #b669da, #61028d);
  border: none;
  color: #fff;
  transition: all 0.3s ease;
}

#main-header .btn-primary:hover {
  background: linear-gradient(135deg, #a44cd1, #52027a);
  transform: translateY(-2px);
}

#main-header .btn-outline-primary {
  border-color: #8a2be2;
  color: #8a2be2;
  transition: all 0.3s ease;
}

#main-header .btn-outline-primary:hover {
  background-color: #8a2be2;
  color: #fff;
}

/* حالت مخفی و نمایان */
#main-header.hide {
  transform: translateY(-100%);
  opacity: 0;
}

#main-header.show {
  transform: translateY(0);
  opacity: 1;
}

/* دکمه همبرگری موبایل */
.mobile-toggle {
  background: none;
  border: none;
  font-size: 32px;
  color: #4b0082;
}

/* منوی موبایل */
.mobile-menu {
  position: fixed;
  top: 70px;
  right: 0;
  width: 80%;
  max-width: 300px;
  height: calc(100% - 70px);
  background: #fff;
  box-shadow: -2px 0 10px rgba(0,0,0,0.2);
  padding: 20px;
  transform: translateX(100%);
  transition: transform 0.4s ease;
  z-index: 2000;
}

.mobile-menu.open {
  transform: translateX(0);
}

.mobile-menu ul {
  list-style: none;
  padding: 0;
  margin: 0;
}

.mobile-menu a {
  display: block;
  padding: 12px 0;
  font-size: 18px;
  text-decoration: none;
  color: #4b0082;
  border-bottom: 1px solid #eee;
}

.mobile-menu hr {
  margin: 15px 0;
}



</style>

<script>
let lastScroll = 0;
let ticking = false;
const header = document.getElementById("main-header");

window.addEventListener("scroll", () => {
  if (!ticking) {
    window.requestAnimationFrame(() => {
      const currentScroll = window.pageYOffset;

      if (currentScroll > lastScroll && currentScroll > 50) {
        // اسکرول پایین → هدر نرم مخفی شود
        header.classList.remove("show");
        header.classList.add("hide");
      } else if (currentScroll < lastScroll) {
        // اسکرول بالا → هدر نرم نمایش داده شود
        header.classList.remove("hide");
        header.classList.add("show");
      }

      lastScroll = currentScroll;
      ticking = false;
    });
    ticking = true;
  }
});

// مربوط به حالت منو موبایل
document.querySelector(".mobile-toggle").addEventListener("click", () => {
  document.querySelector(".mobile-menu").classList.toggle("open");
});

</script>




